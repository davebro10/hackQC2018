{"version":3,"sources":["src/utils/visionUtils.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,uCAAuC;AACvC,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AAEzB;IAEW,MAAM,CAAO,cAAc,CAAC,IAAS;;YAExC,MAAM,GAAG,GAAW,uEAAuE,CAAC;YAE5F,MAAM,SAAS,GAAG,IAAI,CAAC;YACvB,MAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAE7C,MAAM,MAAM,GAAG,MAAM,QAAQ;iBAC5B,IAAI,CAAC,GAAG,CAAC;iBACT,KAAK,CAAC,6CAA6C,CAAC;iBACpD,MAAM,CAAC,kBAAkB,CAAC;iBAC1B,GAAG,CAAC,2BAA2B,EAAE,kCAAkC,CAAC;iBACpE,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC;iBACnB,KAAK,CAAE,CAAC,GAAS,EAAE,EAAE;gBAClB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;YAC/C,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QAExC,CAAC;KAAA;CACJ;AAtBD,kCAsBC","file":"visionUtils.js","sourcesContent":["import * as _request from 'superagent';\r\nconst fs = require('fs');\r\n\r\nexport class VisionUtils {\r\n\r\n    public static async analysePicture(data: any): Promise<any> {\r\n        \r\n        const url: string = \"https://westcentralus.api.cognitive.microsoft.com/vision/v1.0/analyze\";\r\n\r\n        const b64string = data;\r\n        const buf = Buffer.from(b64string, 'base64');\r\n\r\n        const result = await _request\r\n        .post(url)\r\n        .query('visualFeatures=Categories,Description,Color')\r\n        .accept('application/json')\r\n        .set('Ocp-Apim-Subscription-Key', 'a9d56c6fb7b04af6a54264b8041e0fa2')\r\n        .attach('data', buf)\r\n        .catch( (err:Error) => {\r\n            throw new Error('Cannot find the picture');\r\n        });\r\n\r\n        return result.body.description.tags;\r\n        \r\n    }\r\n}"],"sourceRoot":"../.."}